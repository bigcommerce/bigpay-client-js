{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2a2db68e5ff1f039ddb1","webpack:///./src/index.js","webpack:///./src/client/index.js","webpack:///./src/client/create-client.js","webpack:///./src/client/client.js","webpack:///./src/payment/index.js","webpack:///./src/payment/payment-types.js","webpack:///./src/payment/initialize-offsite-payment.js","webpack:///./src/payment/urls.js","webpack:///./src/payment/offsite-mappers/index.js","webpack:///./src/payment/offsite-mappers/map-to-payload.js","webpack:///./~/object-assign/index.js","webpack:///./src/common/utils/index.js","webpack:///./src/common/utils/capitalize.js","webpack:///./src/common/utils/includes.js","webpack:///./src/common/utils/is-nil.js","webpack:///./src/common/utils/is-object.js","webpack:///./src/common/utils/omit-nil.js","webpack:///./src/common/utils/omit-property.js","webpack:///./src/common/utils/to-number.js","webpack:///./src/common/utils/to-snake-case.js","webpack:///./src/common/utils/to-string.js","webpack:///./src/payment/offsite-mappers/map-to-address.js","webpack:///./src/payment/offsite-mappers/map-to-customer.js","webpack:///./src/payment/offsite-mappers/map-to-meta.js","webpack:///./src/payment/offsite-mappers/map-to-store.js","webpack:///./src/common/form-request/index.js","webpack:///./src/common/form-request/post-form.js","webpack:///./src/common/form-request/create-form.js","webpack:///./src/payment/submit-payment.js","webpack:///./src/common/http-request/index.js","webpack:///./src/common/http-request/post-request.js","webpack:///./src/common/http-request/constants/index.js","webpack:///./src/common/http-request/constants/content-types.js","webpack:///./src/common/http-request/constants/method-types.js","webpack:///./src/common/http-request/constants/default-options.js","webpack:///./src/common/http-request/send-request.js","webpack:///./~/deep-assign/index.js","webpack:///./~/deep-assign/~/is-obj/index.js","webpack:///./src/common/http-request/create-request.js","webpack:///./src/payment/mappers/index.js","webpack:///./src/payment/mappers/map-to-headers.js","webpack:///./src/payment/mappers/map-to-payload.js","webpack:///./src/payment/mappers/map-to-customer.js","webpack:///./src/payment/mappers/map-to-order.js","webpack:///./src/payment/mappers/map-to-address.js","webpack:///./src/payment/mappers/map-to-items.js","webpack:///./src/payment/mappers/map-to-order-totals.js","webpack:///./src/payment/mappers/map-to-payment.js","webpack:///./src/payment/mappers/map-to-credit-card.js","webpack:///./src/payment/mappers/map-to-store.js","webpack:///./src/payment/offsite-mappers/map-to-billing-address.js","webpack:///./src/payment/offsite-mappers/map-to-shipping-address.js"],"names":["createClient","config","Client","host","data","callback","paymentMethod","options","type","HOSTED","Error","API","PAYMENT_TYPES","initializeOffsitePayment","submitPayment","OFFLINE","payload","url","getOffsitePaymentUrl","getPaymentUrl","mapToPayload","authToken","order","amount","grandTotal","integerAmount","bc_auth_token","currency","gateway","notify_url","callbackUrl","order_id","orderId","page_title","document","title","payment_method_id","id","reference_id","return_url","payment","returnUrl","capitalize","includes","isNil","isObject","omitNil","omitProperty","toNumber","toSnakeCase","toString","string","charAt","toUpperCase","slice","items","item","Array","isArray","indexOf","value","undefined","object","predicateFn","keys","Object","reduce","result","key","parseFloat","replace","toLowerCase","isNaN","mapToAddress","addressKey","address","formattedAddressKey","city","company","countryCode","country","firstName","lastName","phone","provinceCode","province","addressLine1","addressLine2","postCode","mapToCustomer","customer","quoteMeta","store","customer_browser_info","navigator","userAgent","customer_email","email","customer_first_name","customer_geo_ip_country_code","request","geoCountryCode","customer_last_name","customer_locale","storeLanguage","customer_name","name","customer_phone","phoneNumber","customer_reference","mapToMeta","source","meta_referrer","referrer","meta_source","meta_user_agent","mapToStore","store_hash","storeHash","store_id","storeId","postForm","form","body","appendChild","submit","removeChild","window","addEventListener","handleBeforeUnload","removeEventListener","createForm","createInput","input","createElement","setAttribute","style","display","forEach","headers","postRequest","sendRequest","mergedOptions","method","POST","CONTENT_TYPES","METHOD_TYPES","DEFAULT_OPTIONS","APPLICATION_JSON","GET","Accept","getRequestBody","contentType","JSON","stringify","getResponse","xhr","getResponseHeader","status","statusText","response","responseText","parse","isSuccessfulRequest","error","send","createRequest","setHeaders","headerKeys","setRequestHeader","setOptions","withCredentials","XMLHttpRequest","onerror","onload","open","mapToHeaders","Authorization","geo_ip_country_code","customerId","session_token","sessionHash","mapToOrder","billing_address","shipping_address","token","totals","country_code","first_name","last_name","state_code","state","street_1","street_2","zip","mapToItems","cart","map","code","itemData","price","quantity","sku","mapToOrderTotals","grand_total","handling","shipping","subtotal","tax","taxTotal","mapToPayment","device_info","deviceSessionId","nonce","credit_card_token","credit_card","mapToCreditCard","account_name","ccName","month","ccExpiry","number","ccNumber","verification_value","ccCvv","year","hash","storeName","mapToBillingAddress","mapToShippingAddress"],"mappings":"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","file":"bigpay-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bigpayClient\"] = factory();\n\telse\n\t\troot[\"bigpayClient\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2a2db68e5ff1f039ddb1\n **/","import { createClient } from './client';\n\nexport {\n    createClient,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import createClient from './create-client';\n\nexport {\n    createClient,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/index.js\n **/","import Client from './client';\n\n/**\n * Create client\n * @param {Object} config\n * @returns {Client}\n */\nexport default function createClient(config) {\n    return new Client(config);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/create-client.js\n **/","import { PAYMENT_TYPES, initializeOffsitePayment, submitPayment } from '../payment';\n\nexport default class Client {\n    /**\n     * Construct BigpayClient\n     * @param {Object} config\n     * @param {string} config.host\n     */\n    constructor({ host }) {\n        this.host = host;\n    }\n\n    /**\n     * Initialize offsite payment\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    initializeOffsitePayment(data, callback) {\n        const { paymentMethod = {} } = data;\n        const options = { host: this.host };\n\n        if (paymentMethod.type !== PAYMENT_TYPES.HOSTED) {\n            throw new Error(`${paymentMethod.type} is not supported.`);\n        }\n\n        initializeOffsitePayment(data, options, callback);\n    }\n\n    /**\n     * Submit payment\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    submitPayment(data, callback) {\n        const { paymentMethod = {} } = data;\n        const options = { host: this.host };\n\n        if (paymentMethod.type !== PAYMENT_TYPES.API) {\n            throw new Error(`${paymentMethod.type} is not supported.`);\n        }\n\n        submitPayment(data, options, callback);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/client.js\n **/","import * as PAYMENT_TYPES from './payment-types';\nimport initializeOffsitePayment from './initialize-offsite-payment';\nimport submitPayment from './submit-payment';\n\nexport {\n    PAYMENT_TYPES,\n    initializeOffsitePayment,\n    submitPayment,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/index.js\n **/","export const API = 'PAYMENT_TYPE_API';\nexport const HOSTED = 'PAYMENT_TYPE_HOSTED';\nexport const OFFLINE = 'PAYMENT_TYPE_OFFLINE';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/payment-types.js\n **/","import { getOffsitePaymentUrl } from './urls';\nimport { mapToPayload } from './offsite-mappers';\nimport { postForm } from '../common/form-request';\n\n/**\n * Initialize offsite payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @param {Function} [callback]\n * @returns {void}\n */\nexport default function initializeOffsitePayment(data, { host } = {}, callback) {\n    const payload = mapToPayload(data);\n    const url = getOffsitePaymentUrl(host);\n\n    postForm(url, payload, callback);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/initialize-offsite-payment.js\n **/","/**\n * Get offsite payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getOffsitePaymentUrl(host) {\n    return `${host}/pay/initialize`;\n}\n\n/**\n * Payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getPaymentUrl(host) {\n    return `${host}/api/public/v1/orders/payments`;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/urls.js\n **/","import mapToPayload from './map-to-payload';\n\nexport {\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/index.js\n **/","import objectAssign from 'object-assign';\nimport { omitNil, toString } from '../../common/utils';\nimport mapToBillingAddress from './map-to-billing-address';\nimport mapToCustomer from './map-to-customer';\nimport mapToMeta from './map-to-meta';\nimport mapToShippingAddress from './map-to-shipping-address';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { authToken, order = {}, paymentMethod = {} } = data;\n\n    const payload = objectAssign(\n        {\n            amount: order.grandTotal ? order.grandTotal.integerAmount : null,\n            bc_auth_token: authToken,\n            currency: order.currency,\n            gateway: paymentMethod.gateway,\n            notify_url: order.callbackUrl,\n            order_id: toString(order.orderId),\n            page_title: document.title,\n            payment_method_id: paymentMethod.id,\n            reference_id: toString(order.orderId),\n            return_url: order.payment ? order.payment.returnUrl : null,\n        },\n        mapToBillingAddress(data),\n        mapToCustomer(data),\n        mapToMeta(data),\n        mapToShippingAddress(data),\n        mapToStore(data)\n    );\n\n    return omitNil(payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-payload.js\n **/","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 10\n ** module chunks = 0 1\n **/","import capitalize from './capitalize';\nimport includes from './includes';\nimport isNil from './is-nil';\nimport isObject from './is-object';\nimport omitNil from './omit-nil';\nimport omitProperty from './omit-property';\nimport toNumber from './to-number';\nimport toSnakeCase from './to-snake-case';\nimport toString from './to-string';\n\nexport {\n    capitalize,\n    includes,\n    isNil,\n    isObject,\n    omitNil,\n    omitProperty,\n    toNumber,\n    toSnakeCase,\n    toString,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/index.js\n **/","/**\n * Capitalize\n * @param {string} string\n * @returns {string}\n */\nexport default function capitalize(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/capitalize.js\n **/","/**\n * Includes item\n * @param {array|string} items\n * @param {array|string} item\n * @returns {boolean}\n */\nexport default function includes(items, item) {\n    if (!Array.isArray(items) && typeof items !== 'string') {\n        return false;\n    }\n\n    return items.indexOf(item) !== -1;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/includes.js\n **/","/**\n * Is nil\n * @param {*} value\n * @returns {boolean}\n */\nexport default function isNil(value) {\n    if (value === null || value === undefined) {\n        return true;\n    }\n\n    return false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/is-nil.js\n **/","/**\n * Is object\n * @param {*} value\n * @returns {boolean}\n */\nexport default function isObject(value) {\n    const type = typeof value;\n\n    return value !== null && (type === 'object' || type === 'function');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/is-object.js\n **/","import isNil from './is-nil';\nimport omitProperty from './omit-property';\n\n/**\n * Omit nil\n * @param {Object} object\n * @returns {Object}\n */\nexport default function omitNil(object) {\n    return omitProperty(object, isNil);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/omit-nil.js\n **/","import isObject from './is-object';\n\n/**\n * Omit property\n * @param {Object} object\n * @param {Function} predicateFn\n * @returns {Object}\n */\nexport default function omitProperty(object, predicateFn) {\n    if (!isObject(object)) {\n        return object;\n    }\n\n    const keys = Object.keys(object);\n\n    return keys.reduce((result, key) => {\n        const value = object[key];\n\n        if (!predicateFn(value)) {\n            result[key] = value;\n        }\n\n        return result;\n    }, {});\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/omit-property.js\n **/","/**\n * To number\n * @param {*} value\n * @returns {number}\n */\nexport default function toNumber(value) {\n    return parseFloat(value) || 0;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-number.js\n **/","/**\n * To snake case\n * @param {string} string\n * @returns {string}\n */\nexport default function toSnakeCase(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.replace(/([a-z\\d])([A-Z]+)/g, '$1_$2')\n        .replace(/[-\\s]+/g, '_')\n        .toLowerCase();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-snake-case.js\n **/","/**\n * To string\n * @param {*} value\n * @returns {string}\n */\nexport default function toString(value) {\n    if (typeof value === 'string') {\n        return value;\n    }\n\n    if (typeof value === 'number' && !isNaN(value)) {\n        return value.toString();\n    }\n\n    return '';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-string.js\n **/","import { omitNil, toSnakeCase } from '../../common/utils';\n\n/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n    const formattedAddressKey = toSnakeCase(addressKey);\n\n    return omitNil({\n        [`${formattedAddressKey}_city`]: address.city,\n        [`${formattedAddressKey}_company`]: address.company,\n        [`${formattedAddressKey}_country_code`]: address.countryCode,\n        [`${formattedAddressKey}_country`]: address.country,\n        [`${formattedAddressKey}_first_name`]: address.firstName,\n        [`${formattedAddressKey}_last_name`]: address.lastName,\n        [`${formattedAddressKey}_phone`]: address.phone,\n        [`${formattedAddressKey}_state_code`]: address.provinceCode,\n        [`${formattedAddressKey}_state`]: address.province,\n        [`${formattedAddressKey}_street_1`]: address.addressLine1,\n        [`${formattedAddressKey}_street_2`]: address.addressLine2,\n        [`${formattedAddressKey}_zip`]: address.postCode,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-address.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {}, quoteMeta = {}, store = {} } = data;\n\n    return omitNil({\n        customer_browser_info: navigator.userAgent,\n        customer_email: customer.email,\n        customer_first_name: customer.firstName,\n        customer_geo_ip_country_code: quoteMeta.request ? quoteMeta.request.geoCountryCode : null,\n        customer_last_name: customer.lastName,\n        customer_locale: store.storeLanguage,\n        customer_name: customer.name,\n        customer_phone: customer.phoneNumber,\n        customer_reference: customer.email,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-customer.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to meta\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToMeta(data) {\n    const { source } = data;\n\n    return omitNil({\n        meta_referrer: document.referrer,\n        meta_source: source,\n        meta_user_agent: navigator.userAgent,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-meta.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return omitNil({\n        store_hash: store.storeHash,\n        store_id: `${store.storeId}`,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-store.js\n **/","import postForm from './post-form';\n\nexport {\n    postForm,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/index.js\n **/","import createForm from './create-form';\n\n/**\n * Post form\n * @param {string} url\n * @param {Object} data\n * @param {Function} [callback]\n * @returns {void}\n */\nexport default function postForm(url, data, callback = () => {}) {\n    const form = createForm(url, data);\n\n    // Some browsers require the form to be part of DOM in order to submit\n    document.body.appendChild(form);\n    form.submit();\n    document.body.removeChild(form);\n\n    window.addEventListener('beforeunload', function handleBeforeUnload() {\n        window.removeEventListener('beforeunload', handleBeforeUnload);\n\n        callback();\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/post-form.js\n **/","/**\n * Create input\n * @param {string} value\n * @param {string} key\n * @returns {HTMLInputElement}\n */\nfunction createInput(value, key) {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', key);\n    input.setAttribute('type', 'hidden');\n    input.setAttribute('value', value);\n\n    return input;\n}\n\n/**\n * Create form\n * @param {string} url\n * @param {Object} data\n * @returns {HTMLFormElement}\n */\nexport default function createForm(url, data) {\n    const form = document.createElement('form');\n\n    form.style.display = 'none';\n\n    form.setAttribute('action', url);\n    form.setAttribute('method', 'POST');\n    form.setAttribute('target', '_top');\n\n    Object.keys(data).forEach(key => {\n        const value = data[key];\n\n        form.appendChild(createInput(value, key));\n    });\n\n    return form;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/create-form.js\n **/","import { getPaymentUrl } from './urls';\nimport { postRequest } from '../common/http-request';\nimport { mapToHeaders, mapToPayload } from './mappers';\n\n/**\n * Submit payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @param {Function} [callback]\n * @returns {void}\n */\nexport default function submitPayment(data, { host } = {}, callback) {\n    const payload = mapToPayload(data);\n    const url = getPaymentUrl(host);\n    const options = {\n        headers: mapToHeaders(data),\n    };\n\n    postRequest(url, payload, options, callback);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/submit-payment.js\n **/","import postRequest from './post-request';\nimport sendRequest from './send-request';\n\nexport {\n    postRequest,\n    sendRequest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/index.js\n **/","import objectAssign from 'object-assign';\nimport { METHOD_TYPES } from './constants';\nimport sendRequest from './send-request';\n\n/**\n * Post request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @param {Function} [callback]\n * @returns {void}\n */\nexport default function postRequest(url, data, options, callback) {\n    const mergedOptions = objectAssign({}, options, {\n        method: METHOD_TYPES.POST,\n    });\n\n    sendRequest(url, data, mergedOptions, callback);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/post-request.js\n **/","import * as CONTENT_TYPES from './content-types';\nimport * as METHOD_TYPES from './method-types';\nimport DEFAULT_OPTIONS from './default-options';\n\nexport {\n    CONTENT_TYPES,\n    DEFAULT_OPTIONS,\n    METHOD_TYPES,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/index.js\n **/","export const APPLICATION_JSON = 'application/json';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/content-types.js\n **/","export const GET = 'GET';\nexport const POST = 'POST';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/method-types.js\n **/","import { APPLICATION_JSON } from './content-types';\nimport { GET } from './method-types';\n\nconst DEFAULT_OPTIONS = {\n    headers: {\n        Accept: APPLICATION_JSON,\n        'Content-Type': APPLICATION_JSON,\n    },\n    method: GET,\n};\n\nexport default DEFAULT_OPTIONS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/default-options.js\n **/","import deepAssign from 'deep-assign';\nimport { CONTENT_TYPES, DEFAULT_OPTIONS } from './constants';\nimport { includes } from '../utils';\nimport createRequest from './create-request';\n\n/**\n * Get request body\n * @private\n * @param {Object} data\n * @param {string} [contentType = CONTENT_TYPES.APPLICATION_JSON]\n * @returns {Object}\n */\nfunction getRequestBody(data, contentType = CONTENT_TYPES.APPLICATION_JSON) {\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        return JSON.stringify(data);\n    }\n\n    return data;\n}\n\n/**\n * Get response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Object}\n */\nfunction getResponse(xhr) {\n    const contentType = xhr.getResponseHeader('Content-Type');\n    const { status, statusText } = xhr;\n\n    let data = 'response' in xhr ? xhr.response : xhr.responseText;\n\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        data = JSON.parse(data);\n    }\n\n    return { data, status, statusText };\n}\n\n/**\n * Is request successful\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {boolean}\n */\nfunction isSuccessfulRequest(xhr) {\n    return xhr.status >= 200 && xhr.status < 300;\n}\n\n/**\n * Send request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @param {Function} [callback]\n * @returns {void}\n */\nexport default function sendRequest(url, data, options, callback = () => {}) {\n    const mergedOptions = deepAssign({}, DEFAULT_OPTIONS, options);\n\n    const xhr = createRequest(url, mergedOptions, error => {\n        const response = getResponse(xhr);\n\n        if (error || !isSuccessfulRequest(xhr)) {\n            callback(response);\n\n            return;\n        }\n\n        callback(null, response);\n    });\n\n    const payload = getRequestBody(data, mergedOptions.headers['Content-Type']);\n\n    xhr.send(payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/send-request.js\n **/","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/deep-assign/index.js\n ** module id = 38\n ** module chunks = 0 1\n **/","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/deep-assign/~/is-obj/index.js\n ** module id = 39\n ** module chunks = 0 1\n **/","/**\n * Set XHR headers\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} headers\n * @returns {void}\n */\nfunction setHeaders(xhr, headers) {\n    const headerKeys = Object.keys(headers);\n\n    headerKeys.forEach(key => {\n        const value = headers[key];\n\n        xhr.setRequestHeader(key, value);\n    });\n}\n\n/**\n * Set XHR options\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} options\n * @returns {void}\n */\nfunction setOptions(xhr, options) {\n    xhr.withCredentials = options.withCredentials;\n\n    if (options.headers) {\n        setHeaders(xhr, options.headers);\n    }\n}\n\n/**\n * Create XMLHttpRequest\n * @param {string} url\n * @param {Object} options\n * @param {Function} [callback]\n * @returns {XMLHttpRequest}\n */\nexport default function createRequest(url, options, callback = () => {}) {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onerror = () => callback(new Error(xhr.statusText));\n    xhr.onload = () => callback();\n\n    xhr.open(options.method, url, true);\n    setOptions(xhr, options);\n\n    return xhr;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/create-request.js\n **/","import mapToHeaders from './map-to-headers';\nimport mapToPayload from './map-to-payload';\n\nexport {\n    mapToHeaders,\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/index.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to headers\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToHeaders(data) {\n    const { authToken } = data;\n\n    return omitNil({\n        Authorization: authToken,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-headers.js\n **/","import { omitNil } from '../../common/utils';\nimport mapToCustomer from './map-to-customer';\nimport mapToOrder from './map-to-order';\nimport mapToPayment from './map-to-payment';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { order = {} } = data;\n\n    return omitNil({\n        customer: mapToCustomer(data),\n        notify_url: order.callbackUrl,\n        order: mapToOrder(data),\n        payment: mapToPayment(data),\n        store: mapToStore(data),\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payload.js\n **/","import { omitNil, toString } from '../../common/utils';\n\n/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {}, quoteMeta = {} } = data;\n\n    return omitNil({\n        geo_ip_country_code: quoteMeta.request ? quoteMeta.request.geoCountryCode : null,\n        id: toString(customer.customerId),\n        session_token: quoteMeta.request ? quoteMeta.request.sessionHash : null,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-customer.js\n **/","import { omitNil, toString } from '../../common/utils';\nimport mapToBillingAddress from './map-to-billing-address';\nimport mapToItems from './map-to-items';\nimport mapToOrderTotals from './map-to-order-totals';\nimport mapToShippingAddress from './map-to-shipping-address';\n\n/**\n * Map to order\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrder(data) {\n    const { order } = data;\n\n    return omitNil({\n        billing_address: mapToBillingAddress(data),\n        currency: order.currency,\n        id: toString(order.orderId),\n        items: mapToItems(data),\n        shipping_address: mapToShippingAddress(data),\n        token: order.token,\n        totals: mapToOrderTotals(data),\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n\n    return omitNil({\n        city: address.city,\n        company: address.company,\n        country_code: address.countryCode,\n        country: address.country,\n        first_name: address.firstName,\n        last_name: address.lastName,\n        phone: address.phone,\n        state_code: address.provinceCode,\n        state: address.province,\n        street_1: address.addressLine1,\n        street_2: address.addressLine2,\n        zip: address.postCode,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-address.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to items\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToItems(data) {\n    const { cart = { items: [] } } = data;\n\n    return cart.items.map(itemData => omitNil({\n        code: itemData.id,\n        name: itemData.name,\n        price: itemData.integerAmount,\n        quantity: itemData.quantity,\n        sku: itemData.sku,\n    }));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-items.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to order totals\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrderTotals(data) {\n    const { order } = data;\n\n    return omitNil({\n        grand_total: order.grandTotal ? order.grandTotal.integerAmount : null,\n        handling: order.handling ? order.handling.integerAmount : null,\n        shipping: order.shipping ? order.shipping.integerAmount : null,\n        subtotal: order.subtotal ? order.subtotal.integerAmount : null,\n        tax: order.taxTotal ? order.taxTotal.integerAmount : null,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order-totals.js\n **/","import objectAssign from 'object-assign';\nimport { omitNil } from '../../common/utils';\nimport mapToCreditCard from './map-to-credit-card';\n\n/**\n * Map to payment\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayment(data) {\n    const { order = {}, paymentMethod = {}, quoteMeta = {} } = data;\n\n    const payload = {\n        device_info: quoteMeta.request ? quoteMeta.request.deviceSessionId : null,\n        gateway: paymentMethod.id,\n        notify_url: order.callbackUrl,\n    };\n\n    if (paymentMethod.nonce) {\n        objectAssign(payload, {\n            credit_card_token: {\n                token: paymentMethod.nonce,\n            },\n        });\n    } else {\n        objectAssign(payload, {\n            credit_card: mapToCreditCard(data),\n        });\n    }\n\n    return omitNil(payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payment.js\n **/","import { omitNil, toNumber } from '../../common/utils';\n\n/**\n * Map to credit card\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCreditCard(data) {\n    const { payment = {} } = data;\n\n    return omitNil({\n        account_name: payment.ccName,\n        month: payment.ccExpiry ? toNumber(payment.ccExpiry.month) : null,\n        number: payment.ccNumber,\n        verification_value: payment.ccCvv,\n        year: payment.ccExpiry ? toNumber(payment.ccExpiry.year) : null,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-credit-card.js\n **/","import { omitNil } from '../../common/utils';\n\n/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return omitNil({\n        hash: store.storeHash,\n        id: `${store.storeId}`,\n        name: store.storeName,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-store.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to billing address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToBillingAddress(data) {\n    return mapToAddress(data, 'billingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-billing-address.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to shipping address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToShippingAddress(data) {\n    return mapToAddress(data, 'shippingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-shipping-address.js\n **/"],"sourceRoot":""}