!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bigpayClient=t():e.bigpayClient=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,o){r.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=void 0;var r=n(1);t.createClient=r.createClient},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=void 0;var o=n(2),u=r(o);t.createClient=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return new i["default"](e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(3),i=r(u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),i=function(){function e(t){var n=t.host;r(this,e),this.host=n}return o(e,[{key:"initializeOffsitePayment",value:function(e,t){var n=e.paymentMethod,r=void 0===n?{}:n,o={host:this.host};if(r.type!==u.PAYMENT_TYPES.HOSTED)throw new Error(e.type+" is not supported.");(0,u.initializeOffsitePayment)(e,o,t)}},{key:"submitPayment",value:function(e,t){var n=e.paymentMethod,r=void 0===n?{}:n,o={host:this.host};if(r.type!==u.PAYMENT_TYPES.API)throw new Error(e.type+" is not supported.");(0,u.submitPayment)(e,o,t)}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.submitPayment=t.initializeOffsitePayment=t.PAYMENT_TYPES=void 0;var u=n(5),i=o(u),a=n(6),c=r(a),l=n(30),s=r(l);t.PAYMENT_TYPES=i,t.initializeOffsitePayment=c["default"],t.submitPayment=s["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API="PAYMENT_TYPE_API",t.HOSTED="PAYMENT_TYPE_HOSTED",t.OFFLINE="PAYMENT_TYPE_OFFLINE"},function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.host,r=arguments[2],a=(0,u.mapToPayload)(e),c=(0,o.getOffsitePaymentUrl)(n);(0,i.postForm)(c,a,r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(7),u=n(8),i=n(27)},function(e,t){"use strict";function n(e){return e+"/pay/initialize"}function r(e){return e+"/api/public/v1/orders/payments"}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffsitePaymentUrl=n,t.getPaymentUrl=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapToPayload=void 0;var o=n(9),u=r(o);t.mapToPayload=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.authToken,n=e.cart,r=void 0===n?{}:n,o=e.order,u=void 0===o?{}:o,c=e.paymentMethod,s=void 0===c?{}:c,f=(0,i["default"])({amount:r.grandTotal?r.grandTotal.integerAmount:null,bc_auth_token:t,currency:r.currency,gateway:s.gateway,notify_url:u.callbackUrl,order_id:(0,a.toString)(u.orderId),page_title:document.title,payment_method_id:s.id,reference_id:(0,a.toString)(u.orderId),return_url:s.config?s.config.redirectUrl:null},(0,l["default"])(e),(0,d["default"])(e),(0,_["default"])(e),(0,v["default"])(e),(0,m["default"])(e));return(0,a.omitNil)(f)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(10),i=r(u),a=n(11),c=n(21),l=r(c),s=n(23),d=r(s),f=n(24),_=r(f),p=n(25),v=r(p),y=n(26),m=r(y)},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(u){return!1}}var o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,i,a=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var l in r)o.call(r,l)&&(a[l]=r[l]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(r);for(var s=0;s<i.length;s++)u.call(r,i[s])&&(a[i[s]]=r[i[s]])}}return a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toSnakeCase=t.toNumber=t.omitProperty=t.omitNil=t.isObject=t.isNil=t.includes=t.capitalize=void 0;var o=n(12),u=r(o),i=n(13),a=r(i),c=n(14),l=r(c),s=n(15),d=r(s),f=n(16),_=r(f),p=n(17),v=r(p),y=n(18),m=r(y),b=n(19),O=r(b),P=n(20),h=r(P);t.capitalize=u["default"],t.includes=a["default"],t.isNil=l["default"],t.isObject=d["default"],t.omitNil=_["default"],t.omitProperty=v["default"],t.toNumber=m["default"],t.toSnakeCase=O["default"],t.toString=h["default"]},function(e,t){"use strict";function n(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e,t){return!(!Array.isArray(e)&&"string"!=typeof e)&&e.indexOf(t)!==-1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){return null===e||void 0===e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){var t="undefined"==typeof e?"undefined":r(e);return null!==e&&("object"===t||"function"===t)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,c["default"])(e,i["default"])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(14),i=r(u),a=n(17),c=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(0,i["default"])(e))return e;var n=Object.keys(e);return n.reduce(function(n,r){var o=e[r];return t(o)||(n[r]=o),n},{})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(15),i=r(u)},function(e,t){"use strict";function n(e){return parseFloat(e)||0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){return e?e.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase():e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){return"string"==typeof e?e:"number"!=typeof e||isNaN(e)?"":e.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},[56,22],function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n,o=e[t]||{},i=(0,u.toSnakeCase)(t);return(0,u.omitNil)((n={},r(n,i+"_city",o.city),r(n,i+"_company",o.company),r(n,i+"_country_code",o.countryCode),r(n,i+"_country",o.country),r(n,i+"_first_name",o.firstName),r(n,i+"_last_name",o.lastName),r(n,i+"_phone",o.phone),r(n,i+"_state_code",o.provinceCode),r(n,i+"_state",o.province),r(n,i+"_street_1",o.addressLine1),r(n,i+"_street_2",o.addressLine2),r(n,i+"_zip",o.postCode),n))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(11)},function(e,t,n){"use strict";function r(e){var t=e.customer,n=void 0===t?{}:t,r=e.store,u=void 0===r?{}:r;return(0,o.omitNil)({customer_browser_info:navigator.userAgent,customer_email:n.email,customer_first_name:n.firstName,customer_geo_country_code:n.geoCountryCode,customer_last_name:n.lastName,customer_locale:u.storeLanguage,customer_name:n.name,customer_phone:n.phoneNumber,customer_reference:n.email})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){var t=e.source;return(0,o.omitNil)({meta_referrer:document.referrer,meta_source:t,meta_user_agent:navigator.userAgent})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},[57,22],function(e,t,n){"use strict";function r(e){var t=e.store,n=void 0===t?{}:t;return(0,o.omitNil)({store_hash:n.storeHash,store_id:""+n.storeId})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.postForm=void 0;var o=n(28),u=r(o);t.postForm=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2],r=(0,i["default"])(e,t);r.submit(),window.addEventListener("beforeunload",function o(){window.removeEventListener("beforeunload",o),n()})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(29),i=r(u)},function(e,t){"use strict";function n(e,t){var n=document.createElement("input");return n.setAttribute("name",t),n.setAttribute("value",e),n}function r(e,t){var r=document.createElement("form");return r.setAttribute("action",e),r.setAttribute("method","POST"),r.setAttribute("target","_top"),Object.keys(t).forEach(function(e){var o=t[e];r.appendChild(n(o,e))}),r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.host,r=arguments[2],a=(0,i.mapToPayload)(e),c=(0,o.getPaymentUrl)(n),l={headers:(0,i.mapToHeaders)(e)};(0,u.postRequest)(c,a,l,r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(7),u=n(31),i=n(41)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=t.postRequest=void 0;var o=n(32),u=r(o),i=n(37),a=r(i);t.postRequest=u["default"],t.sendRequest=a["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n,r){var o=(0,i["default"])({},n,{method:a.METHOD_TYPES.POST});(0,l["default"])(e,t,o,r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(10),i=r(u),a=n(33),c=n(37),l=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.METHOD_TYPES=t.DEFAULT_OPTIONS=t.CONTENT_TYPES=void 0;var u=n(34),i=o(u),a=n(35),c=o(a),l=n(36),s=r(l);t.CONTENT_TYPES=i,t.DEFAULT_OPTIONS=s["default"],t.METHOD_TYPES=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APPLICATION_JSON="application/json"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET="GET",t.POST="POST"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(35),u={headers:{Accept:r.APPLICATION_JSON,"Content-Type":r.APPLICATION_JSON},method:o.GET};t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?s.CONTENT_TYPES.APPLICATION_JSON:arguments[1];return e&&(0,d.includes)(t,s.CONTENT_TYPES.APPLICATION_JSON)?JSON.stringify(e):e}function u(e){var t=e.getResponseHeader("Content-Type"),n=e.status,r=e.statusText,o="response"in e?e.response:e.responseText;return o&&(0,d.includes)(t,s.CONTENT_TYPES.APPLICATION_JSON)&&(o=JSON.parse(o)),{data:o,status:n,statusText:r}}function i(e){return e.status>=200&&e.status<300}function a(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?function(){}:arguments[3],a=(0,l["default"])({},s.DEFAULT_OPTIONS,n),c=(0,_["default"])(e,a,function(e){var t=u(c);return e||!i(c)?void r(t):void r(null,t)}),d=o(t,a.headers["Content-Type"]);c.send(d)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var c=n(38),l=r(c),s=n(33),d=n(11),f=n(40),_=r(f)},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function o(e,t,n){var r=t[n];if(void 0!==r&&null!==r){if(a.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");a.call(e,n)&&i(r)?e[n]=u(Object(e[n]),t[n]):e[n]=r}}function u(e,t){if(e===t)return e;t=Object(t);for(var n in t)a.call(t,n)&&o(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),u=0;u<r.length;u++)c.call(t,r[u])&&o(e,t,r[u]);return e}var i=n(39),a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(e){e=r(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},function(e,t){"use strict";e.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},function(e,t){"use strict";function n(e,t){var n=Object.keys(t);n.forEach(function(n){var r=t[n];e.setRequestHeader(n,r)})}function r(e,t){e.withCredentials=t.withCredentials,t.headers&&n(e,t.headers)}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2],o=new XMLHttpRequest;return o.onerror=function(){return n(new Error(o.statusText))},o.onload=function(){return n()},o.open(t.method,e,!0),r(o,t),o}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapToPayload=t.mapToHeaders=void 0;var o=n(42),u=r(o),i=n(43),a=r(i);t.mapToHeaders=u["default"],t.mapToPayload=a["default"]},function(e,t,n){"use strict";function r(e){var t=e.authToken;return(0,o.omitNil)({Authorization:t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.order,n=void 0===t?{}:t;return(0,u.omitNil)({customer:(0,a["default"])(e),notify_url:n.callbackUrl,order:(0,l["default"])(e),payment:(0,d["default"])(e),store:(0,_["default"])(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(11),i=n(44),a=r(i),c=n(45),l=r(c),s=n(51),d=r(s),f=n(53),_=r(f)},function(e,t,n){"use strict";function r(e){var t=e.customer,n=void 0===t?{}:t;return(0,o.omitNil)({geo_ip_country_code:n.geoCountryCode,id:(0,o.toString)(n.customerId),session_token:n.sessionHash})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.cart,n=e.order;return(0,u.omitNil)({billing_address:(0,a["default"])(e),currency:t.currency,id:(0,u.toString)(n.orderId),items:(0,l["default"])(e),shipping_address:(0,_["default"])(e),token:n.token,totals:(0,d["default"])(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(11),i=n(46),a=r(i),c=n(48),l=r(c),s=n(49),d=r(s),f=n(50),_=r(f)},[56,47],function(e,t,n){"use strict";function r(e,t){var n=e[t]||{};return(0,o.omitNil)({city:n.city,company:n.company,country_code:n.countryCode,country:n.country,first_name:n.firstName,last_name:n.lastName,phone:n.phone,state_code:n.provinceCode,state:n.province,street_1:n.addressLine1,street_2:n.addressLine2,zip:n.postCode})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){var t=e.cart,n=void 0===t?{items:[]}:t;return n.items.map(function(e){return(0,o.omitNil)({code:e.id,name:e.name,price:e.integerAmount||100*e.amount,quantity:e.quantity,sku:e.sku})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){var t=e.cart;return(0,o.omitNil)({grand_total:t.grandTotal?t.grandTotal.integerAmount:null,handling:t.handling?t.handling.integerAmount||100*t.handling.amount:null,shipping:t.shipping?t.shipping.integerAmount||100*t.shipping.amount:null,subtotal:t.subTotal?t.subTotal.integerAmount||100*t.subTotal.amount:null,tax:t.taxTotal?t.taxTotal.integerAmount||100*t.taxTotal.amount:null})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},[57,47],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.order,n=void 0===t?{}:t,r=e.payment,o=void 0===r?{}:r,u=e.paymentMethod,c=void 0===u?{}:u,s={device_info:o.deviceData,gateway:c.id,notify_url:n.callbackUrl};return o.nonce?(0,i["default"])(s,{credit_card_token:{token:o.nonce}}):(0,i["default"])(s,{credit_card:(0,l["default"])(e)}),(0,a.omitNil)(s)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(10),i=r(u),a=n(11),c=n(52),l=r(c)},function(e,t,n){"use strict";function r(e){var t=e.payment,n=void 0===t?{}:t;return(0,o.omitNil)({account_name:n.ccName,month:n.ccExpiry?(0,o.toNumber)(n.ccExpiry.month):null,number:n.ccNumber,verification_value:n.ccCvv,year:n.ccExpiry?(0,o.toNumber)(n.ccExpiry.year):null})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},function(e,t,n){"use strict";function r(e){var t=e.store,n=void 0===t?{}:t;return(0,o.omitNil)({hash:n.storeHash,id:""+n.storeId,name:n.storeName})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(11)},,,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){return(0,a["default"])(e,"billingAddress")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var i=n(r),a=o(i)},function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){return(0,a["default"])(e,"shippingAddress")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var i=n(r),a=o(i)}]))});
//# sourceMappingURL=bigpay-client.min.js.map